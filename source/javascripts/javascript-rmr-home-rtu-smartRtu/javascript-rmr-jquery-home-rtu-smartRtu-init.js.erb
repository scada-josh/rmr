(function ($) {
    "use strict";

    var token = null;

    // Map Object
    var map = null;
    // Leaflet Layers control
    var layerControl = false;
    // Leaflet Layers
    var rtuGroup = false;
    var rtuGeojsonLayer = false;
    // Leaflet Info Box
    var infobox = false;
    var draggable = false;

    var description_box = false;

    var searchBox = false;

    var rtuEditingMarker = null;
    var rtuNormalMarker = null;

    var rtuRedMarker = null;
    var rtuYellowMarker = null;
    var rtuGreenMarker = null;
    var rtuGrayMarker = null;
    var rtuBlackMarker = null;

    var autoUpdateToggle = false;
    var autoUpdateFlag = false;
    var autoUpdateRequest = null;
    var autoUpdateTimer = null;

    var currentMarker = false;



    /////////////////////////////////////////////////// Adress

    var fn = {

        // Launch Functions
        Launch: function () {

            fn.AutoUpdateSwitch();

            fn.Leaflet();
            fn.Leaflet_ExtraMarkers();

            fn.GetToken();
            fn.Apps();
        },

        // Timer
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_AutoUpdate" %>
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_AutoUpdateSwitch" %>
        
        // Leaflet
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Leaflet" %>
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Leaflet_AddRtuLayer" %>
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Leaflet_ExtraMarkers" %>
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Leaflet_FullScreen" %>
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Leaflet_AddInfoBox" %>
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Leaflet_AddDescriptionBox" %>
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Leaflet_AddWMSLayer" %>
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Leaflet_AddEasyButton" %>
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Leaflet_ShowRTUInformation" %>
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Leaflet_ZoomBox" %>
        // Get Token
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_GetToken" %>
        // Logout
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Logout" %>
        // Apps
        <%= partial js_dir + "/javascript-rmr-home-rtu-smartRtu/partials/_fn_Apps" %>

    };

    $(document).ready(function () {
        fn.Launch();
    });

})(jQuery);